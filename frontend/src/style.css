@import "tailwindcss";
@import url("https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap");

@layer theme, base, components, utilities;

:root {
  --bg-gradient-start: #f8fafc;
  --bg-gradient-end: #e2e8f0;
  --text-primary: #1e293b;
  --text-secondary: #64748b;
  --text-tertiary: #334155;
  --card-bg: #ffffff;
  --card-shadow: rgba(0, 0, 0, 0.08);
  --card-shadow-hover: rgba(0, 0, 0, 0.12);
  --input-border: #cbd5e1;
  --input-bg: #ffffff;
  --input-focus: #3b82f6;
  --modal-bg: #ffffff;
  --modal-overlay: rgba(15, 23, 42, 0.5);
  --button-bg: #3b82f6;
  --button-hover: #2563eb;
  --button-active: #1d4ed8;
  --button-active-border: #1e40af;
  --link-color: #3b82f6;
  --link-hover: #2563eb;
  --header-text: #0f172a;
  --section-heading: #1e293b;
  --empty-message: #94a3b8;
  --action-btn-color: #475569;
  --action-btn-hover: #1e293b;
  --discard-color: #ef4444;
  --discard-hover: #dc2626;
  --description-text: #334155;
  --border-subtle: #e2e8f0;
}

[data-theme="dark"] {
  --bg-gradient-start: #0f172a;
  --bg-gradient-end: #020617;
  --text-primary: #f1f5f9;
  --text-secondary: #94a3b8;
  --text-tertiary: #cbd5e1;
  --card-bg: #1e293b;
  --card-shadow: rgba(0, 0, 0, 0.3);
  --card-shadow-hover: rgba(0, 0, 0, 0.5);
  --input-border: #475569;
  --input-bg: #334155;
  --input-focus: #60a5fa;
  --modal-bg: #1e293b;
  --modal-overlay: rgba(0, 0, 0, 0.75);
  --button-bg: #3b82f6;
  --button-hover: #2563eb;
  --button-active: #1d4ed8;
  --button-active-border: #1e40af;
  --link-color: #60a5fa;
  --link-hover: #93c5fd;
  --header-text: #f1f5f9;
  --section-heading: #f1f5f9;
  --empty-message: #64748b;
  --action-btn-color: #cbd5e1;
  --action-btn-hover: #f1f5f9;
  --discard-color: #f87171;
  --discard-hover: #ef4444;
  --description-text: #cbd5e1;
  --border-subtle: #334155;
}

* {
  @apply font-sans;
  font-family:
    "Inter",
    -apple-system,
    BlinkMacSystemFont,
    "Segoe UI",
    sans-serif;
}

html,
body {
  @apply m-0 p-0 min-h-screen w-full;
  background: linear-gradient(
      90deg,
      var(--bg-gradient-end),
      var(--bg-gradient-start) 20%,
      var(--bg-gradient-start) 80%,
      var(--bg-gradient-end)
    )
    no-repeat scroll;
  background-size: 100% 100%;
  color: var(--text-primary);
}

.header-title {
  @apply text-center my-8 mx-0 text-5xl font-bold tracking-tight;
  color: var(--header-text);
  text-shadow: 0 2px 4px var(--card-shadow);
}

.section-heading {
  @apply text-center text-3xl mb-5 font-semibold;
  color: var(--section-heading);
}

.categories {
  @apply flex justify-center items-center gap-4 my-6 mx-0 flex-wrap;
}

.movie-section {
  @apply my-8 mx-auto max-w-300 px-4;
}

.movie-list {
  @apply flex flex-col gap-5 p-5 max-w-300 mx-auto my-0;
}

.movie-grid {
  @apply grid gap-5 p-5;
  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
}

.movie-card {
  @apply rounded-xl p-5 flex items-start gap-5 transition-all duration-200 border-2 border-transparent;
  background-color: var(--card-bg);
  box-shadow: 0 4px 6px var(--card-shadow);
  border-color: var(--border-subtle);

  &.boobies-movie {
    border-color: #ff69b4;
    background-color: color-mix(in srgb, #ff69b4 15%, var(--card-bg));
  }
}

/* Grid mode: vertical card layout */
.grid-card {
  @apply flex-col items-center text-center;
}

.grid-card .movie-content {
  @apply items-center w-full;
}

.grid-card .movie-rating {
  @apply ml-0 items-center flex-row gap-4 justify-center;
}

.grid-card .movie-icons {
  @apply ml-0 items-center flex-row gap-4 w-full justify-between;
}

.grid-card .movie-links {
  @apply justify-center;
}

.movie-rating {
  @apply ml-auto flex flex-col justify-start gap-2 min-w-24 items-center;
}

.movie-icons {
  @apply ml-auto flex flex-col justify-start gap-2 min-w-24 items-center;
}

.movie-card h3 {
  @apply m-0 mb-2 text-xl font-semibold leading-tight;
  color: var(--text-tertiary);
}

.movie-original-title {
  @apply -mt-1 mb-3 text-sm font-normal;
  color: var(--text-secondary);
}

.movie-added-by {
  @apply mt-1 text-sm font-normal;
  color: var(--text-secondary);
}

.movie-card p {
  @apply my-2 mx-0 text-sm leading-relaxed;
  color: var(--description-text);
}

/* Truncate description in grid mode to 3 lines */
.grid-card p {
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
  text-overflow: ellipsis;
}

.movie-image {
  @apply h-28 w-auto shrink-0 rounded-lg object-cover shadow-md;
  border: 1px solid var(--border-subtle);
}

/* Grid mode: larger centered images */
.grid-card .movie-image {
  @apply h-64 w-auto max-w-full;
}

.movie-content {
  @apply flex flex-col flex-1 min-w-0;
}

.movie-actions {
  @apply flex gap-3 p-2 justify-center;
}

.movie-action-btn {
  @apply appearance-none border-none bg-transparent p-1.5 cursor-pointer rounded-lg transition-all duration-150;
  line-height: 0;
  color: var(--action-btn-color);
}

.movie-action-btn:hover {
  @apply scale-110;
  color: var(--action-btn-hover);
  background-color: var(--border-subtle);
}

.movie-action-btn:active {
  @apply scale-95;
}

.movie-action-btn svg {
  @apply w-5 h-5 block;
}

.movie-action-btn.action-discard {
  color: var(--discard-color);
}

.movie-action-btn.action-discard:hover {
  color: var(--discard-hover);
  background-color: color-mix(in srgb, var(--discard-color) 10%, transparent);
}

.rating-star,
.rating-value,
.rating-votes {
  @apply self-center;
}

.rating-star {
  @apply text-yellow-400;
}

.rating-star svg {
  @apply w-full h-full block;
}

.rating-value {
  @apply font-bold text-lg leading-none;
  color: var(--text-primary);
}

.rating-votes {
  @apply text-center text-xs leading-tight;
  color: var(--text-secondary);
}

.movie-links {
  @apply mt-3 flex gap-3 flex-wrap;
}

.movie-links a {
  @apply no-underline font-semibold text-sm px-3 py-1.5 rounded-md transition-all duration-150;
  color: var(--link-color);
  background-color: color-mix(in srgb, var(--link-color) 10%, transparent);
}

.movie-links a:hover {
  color: var(--link-hover);
  background-color: color-mix(in srgb, var(--link-color) 20%, transparent);
  @apply -translate-y-px;
}

.category-button {
  @apply py-2.5 px-6 text-base rounded-lg font-medium cursor-pointer transition-all duration-200;
  background-color: var(--card-bg);
  color: var(--text-secondary);
  border: 2px solid var(--border-subtle);
  box-shadow: 0 2px 4px var(--card-shadow);
}

.category-button:hover {
  @apply -translate-y-px;
  border-color: var(--button-bg);
  color: var(--text-primary);
  box-shadow: 0 4px 6px var(--card-shadow-hover);
}

.category-button.active {
  @apply font-semibold;
  background-color: var(--button-bg);
  color: white;
  border-color: var(--button-active-border);
  box-shadow: 0 4px 8px color-mix(in srgb, var(--button-bg) 40%, transparent);
}

.view-toggle-button {
  @apply py-2.5 px-3.5 text-base rounded-lg cursor-pointer transition-all duration-200;
  background-color: var(--card-bg);
  color: var(--text-secondary);
  border: 2px solid var(--border-subtle);
  box-shadow: 0 2px 4px var(--card-shadow);
}

.view-toggle-button:hover {
  @apply -translate-y-px;
  border-color: var(--button-bg);
  color: var(--text-primary);
  box-shadow: 0 4px 6px var(--card-shadow-hover);
}

.add-movie-button {
  @apply fixed bottom-6 right-6 border-none rounded-full w-14 h-14 font-bold cursor-pointer flex justify-center items-center text-center shadow-2xl transition-all duration-200;
  background-color: var(--button-bg);
  color: white;
}

.add-movie-button svg {
  @apply w-7 h-7;
}

.add-movie-button:hover {
  @apply scale-110;
  background-color: var(--button-hover);
  box-shadow: 0 8px 24px color-mix(in srgb, var(--button-bg) 50%, transparent);
}

.add-movie-button:active {
  @apply scale-100;
}

.submit-button {
  @apply border-none py-3 px-6 rounded-lg cursor-pointer mt-4 font-semibold transition-all duration-150;
  background-color: var(--button-bg);
  color: white;
}

.submit-button:hover {
  background-color: var(--button-hover);
  @apply shadow-lg;
}

.submit-button:active {
  background-color: var(--button-active);
}

.submit-button:disabled {
  @apply opacity-60 cursor-not-allowed;
}

.modal {
  @apply fixed top-0 left-0 w-full h-full flex justify-center items-center z-1000;
  background-color: var(--modal-overlay);
  backdrop-filter: blur(4px);
}

.modal.hidden {
  @apply hidden;
}

.modal-content {
  @apply p-8 rounded-2xl w-[90%] max-w-125 relative shadow-2xl;
  background: var(--modal-bg);
  border: 1px solid var(--border-subtle);
}

.modal-content h2 {
  @apply text-2xl font-semibold mb-4;
  color: var(--text-primary);
}

.modal-content label {
  @apply block mb-2 font-medium;
  color: var(--text-primary);
}

.close-button {
  @apply absolute top-4 right-4 text-3xl cursor-pointer leading-none transition-all duration-150 rounded-lg w-8 h-8 flex items-center justify-center;
  color: var(--text-secondary);
}

.close-button:hover {
  color: var(--text-primary);
  background-color: var(--border-subtle);
}

#movie-url {
  @apply p-3 text-base rounded-lg w-full transition-all duration-150;
  border: 2px solid var(--input-border);
  background-color: var(--input-bg);
  color: var(--text-primary);
}

#movie-url:focus {
  @apply outline-none;
  border-color: var(--input-focus);
  box-shadow: 0 0 0 3px color-mix(in srgb, var(--input-focus) 20%, transparent);
}

.theme-selector {
  @apply fixed top-6 right-6 z-50;
}

.theme-toggle-btn {
  @apply flex items-center gap-2 py-2 px-4 rounded-lg cursor-pointer transition-all duration-200 font-medium;
  background-color: var(--card-bg);
  color: var(--text-primary);
  border: 2px solid var(--border-subtle);
  box-shadow: 0 2px 4px var(--card-shadow);
}

.theme-toggle-btn:hover {
  border-color: var(--button-bg);
  box-shadow: 0 4px 8px var(--card-shadow-hover);
}

.theme-icon {
  @apply w-5 h-5 flex items-center justify-center;
}

.theme-label {
  @apply text-sm font-medium;
}

.theme-chevron {
  @apply w-4 h-4 transition-transform duration-200;
}

.theme-chevron.open {
  @apply rotate-180;
}

.theme-dropdown {
  @apply absolute top-full right-0 mt-2 rounded-lg overflow-hidden shadow-xl min-w-36;
  background-color: var(--card-bg);
  border: 2px solid var(--border-subtle);
}

.theme-option {
  @apply w-full flex items-center gap-3 py-2.5 px-4 border-none cursor-pointer transition-all duration-150 text-left;
  background-color: var(--card-bg);
  color: var(--text-primary);
}

.theme-option:hover {
  background-color: var(--border-subtle);
}

.theme-option.active {
  background-color: var(--button-bg);
  color: white;
  font-weight: 600;
}

.theme-option svg {
  @apply w-4 h-4;
}

.empty-message {
  @apply text-center italic text-base my-4;
  color: var(--empty-message);
  grid-column: 1 / -1;
}

header {
  @apply relative;
}

/* Login Component Styles */
.login-container {
  @apply flex justify-center items-center my-8;
}

.login-loading {
  @apply text-lg;
  color: var(--text-secondary);
}

.login-button {
  @apply flex items-center gap-3 px-6 py-3 rounded-lg font-semibold text-white transition-all duration-200 border-none cursor-pointer text-base;
  background-color: #5865f2;
  box-shadow: 0 4px 12px rgba(88, 101, 242, 0.3);
}

.login-button:hover {
  background-color: #4752c4;
  box-shadow: 0 6px 16px rgba(88, 101, 242, 0.4);
  transform: translateY(-2px);
}

.login-button:active {
  transform: translateY(0);
  box-shadow: 0 2px 8px rgba(88, 101, 242, 0.3);
}

.login-button svg {
  @apply w-6 h-6;
}

.user-info {
  @apply flex items-center gap-4 px-5 py-3 rounded-lg;
  background-color: var(--card-bg);
  box-shadow: 0 2px 8px var(--card-shadow);
  border: 2px solid var(--border-subtle);
}

.user-details {
  @apply flex items-center gap-3;
}

.user-avatar {
  @apply w-10 h-10 rounded-full;
  border: 2px solid var(--border-subtle);
}

.user-name {
  @apply font-semibold text-base;
  color: var(--text-primary);
}

.logout-button {
  @apply px-4 py-2 rounded-lg font-medium transition-all duration-200 border-none cursor-pointer text-sm;
  background-color: var(--button-bg);
  color: white;
}

.logout-button:hover {
  background-color: var(--button-hover);
  transform: translateY(-1px);
  box-shadow: 0 2px 6px var(--card-shadow);
}

.logout-button:active {
  transform: translateY(0);
  background-color: var(--button-active);
}

/* Sort controls styling */
.search-filters {
  @apply flex items-center gap-4 justify-center my-4 mx-auto max-w-3xl px-4 flex-wrap;
}

.search-container {
  @apply flex items-center gap-2 flex-1 min-w-64 relative;
}

.search-icon {
  @apply absolute left-3 flex items-center pointer-events-none;
  color: var(--text-secondary);
}

.search-input {
  @apply w-full py-2 pl-10 pr-4 rounded-lg border-2 text-sm;
  background-color: var(--input-bg);
  border-color: var(--input-border);
  color: var(--text-primary);
}

.search-input::placeholder {
  color: var(--text-secondary);
}

.search-input:focus {
  @apply outline-none;
  border-color: var(--input-focus);
  box-shadow: 0 0 0 3px color-mix(in srgb, var(--input-focus) 15%, transparent);
}

.sort-controls {
  @apply flex items-center gap-3 ml-4 justify-center;
}

.sort-label {
  @apply text-sm font-medium;
  color: var(--text-secondary);
}

.sort-select {
  @apply py-2 px-3 rounded-lg border-2 bg-(--input-bg) text-sm;
  border-color: var(--input-border);
  color: var(--text-primary);
}

.sort-select:focus {
  @apply outline-none;
  border-color: var(--input-focus);
  box-shadow: 0 0 0 3px color-mix(in srgb, var(--input-focus) 15%, transparent);
}

.sort-reverse-btn {
  @apply px-3 py-2 rounded-lg cursor-pointer transition-all duration-150 border-2;
  background-color: var(--card-bg);
  color: var(--text-secondary);
  border-color: var(--border-subtle);
}

.sort-reverse-btn:hover {
  @apply -translate-y-px;
  color: var(--text-primary);
  border-color: var(--button-bg);
  box-shadow: 0 4px 6px var(--card-shadow-hover);
}

.sort-reverse-btn.active {
  @apply font-semibold;
  background-color: var(--button-bg);
  color: white;
  border-color: var(--button-active-border);
}

.page-size-select {
  @apply py-2 px-3 rounded-lg border-2 bg-(--input-bg) text-sm;
  border-color: var(--input-border);
  color: var(--text-primary);
}

.page-size-select:focus {
  @apply outline-none;
  border-color: var(--input-focus);
  box-shadow: 0 0 0 3px color-mix(in srgb, var(--input-focus) 15%, transparent);
}

/* User filter styling */
.user-filter-container {
  @apply relative flex-1 min-w-48 max-w-64;
}

.user-filter-input-wrapper {
  @apply flex items-center relative;
}

.user-filter-icon {
  @apply absolute left-3 flex items-center pointer-events-none;
  color: var(--text-secondary);
}

.user-filter-input {
  @apply w-full py-2 pl-10 rounded-lg border-2 text-sm;
  padding-right: 5.5rem;
  background-color: var(--input-bg);
  border-color: var(--input-border);
  color: var(--text-primary);
}

.user-filter-input::placeholder {
  color: var(--text-secondary);
}

.user-filter-input:focus {
  @apply outline-none;
  border-color: var(--input-focus);
  box-shadow: 0 0 0 3px color-mix(in srgb, var(--input-focus) 15%, transparent);
}

.user-filter-mode-toggle {
  @apply absolute flex items-center justify-center p-1 rounded cursor-pointer transition-all;
  right: 3rem;
  background: transparent;
  border: none;
}

.user-filter-mode-badge {
  @apply flex items-center justify-center w-5 h-5 rounded text-xs font-bold transition-all;
}

.user-filter-mode-badge.mode-whitelist {
  background-color: color-mix(in srgb, #10b981 30%, transparent);
  color: #10b981;
}

.user-filter-mode-badge.mode-blacklist {
  background-color: color-mix(in srgb, #ef4444 30%, transparent);
  color: #ef4444;
}

.user-filter-clear {
  @apply absolute flex items-center justify-center p-1 rounded cursor-pointer transition-colors;
  right: 4.5rem;
  background: transparent;
  border: none;
  color: var(--text-secondary);
}

.user-filter-clear:hover {
  color: var(--text-primary);
}

.user-filter-toggle {
  @apply absolute right-2 flex items-center justify-center p-1 rounded cursor-pointer transition-colors;
  background: transparent;
  border: none;
  color: var(--text-secondary);
}

.user-filter-toggle:hover {
  color: var(--text-primary);
}

.user-filter-dropdown {
  @apply absolute top-full left-0 right-0 mt-1 rounded-lg border-2 overflow-hidden z-50 max-h-64 overflow-y-auto;
  background-color: var(--card-bg);
  border-color: var(--input-border);
  box-shadow: 0 4px 12px var(--card-shadow);
}

.user-filter-option {
  @apply w-full text-left px-4 py-2 text-sm cursor-pointer transition-colors border-none flex items-center gap-2;
  background-color: transparent;
  color: var(--text-primary);
}

.user-filter-option:hover,
.user-filter-option.highlighted {
  background-color: color-mix(in srgb, var(--button-bg) 10%, var(--card-bg));
}

.user-filter-option.selected {
  background-color: color-mix(in srgb, var(--button-bg) 20%, var(--card-bg));
  font-weight: 500;
}

.user-filter-option-text {
  @apply flex-1;
}

.user-filter-option-check {
  @apply ml-2;
  color: var(--button-bg);
}

.user-filter-avatar {
  @apply w-5 h-5 rounded-full object-cover shrink-0;
}

.user-filter-avatar-placeholder {
  @apply w-5 h-5 rounded-full flex items-center justify-center shrink-0;
  background-color: var(--input-border);
  color: var(--text-secondary);
}

/* Pagination Style */
.pagination-controls {
  @apply flex items-center gap-0 ml-4 justify-center;
}

.page-button {
  @apply py-2 px-3 w-10 h-10 border bg-(--input-bg) text-sm cursor-pointer transition-all duration-300;
  border-color: var(--input-border);
  color: var(--text-primary);
}

.page-button:hover {
  background-color: color-mix(in srgb, var(--button-bg) 25%, var(--input-bg));
}

.page-button:focus {
  @apply outline-none;
  border-color: var(--input-focus);
  box-shadow: 0 0 0 3px color-mix(in srgb, var(--input-focus) 15%, transparent);
}

.page-button.active {
  @apply font-semibold;
  background-color: var(--button-bg);
  color: white;
  border-color: var(--button-active-border);
}

.page-button-left {
  @apply rounded-lg;
  border-top-right-radius: 0;
  border-bottom-right-radius: 0;
}

.page-button-right {
  @apply rounded-lg;
  border-top-left-radius: 0;
  border-bottom-left-radius: 0;
}
